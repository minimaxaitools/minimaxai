<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Professional prompt generator with advanced features for creating, managing, and exporting AI prompts">
    <meta name="theme-color" content="#2563eb">
    <link rel="manifest" href="manifest.json">
    <title>Prompt Generator Pro</title>

    <!-- Preload critical fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- External dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/idb@8.0.0/build/umd.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/layout.css">

    <!-- PWA support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Prompt Generator Pro">
</head>

<body>
    <!-- Mobile menu overlay -->
    <div id="mobile-overlay" class="mobile-overlay" aria-hidden="true"></div>

    <!-- Main application container -->
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="sidebar" role="navigation" aria-label="Main navigation">
            <div class="sidebar-header">
                <div class="sidebar-brand">
                    <div class="brand-icon">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <rect width="32" height="32" rx="8" fill="currentColor" />
                            <path d="M8 12h16M8 16h12M8 20h8" stroke="white" stroke-width="2" stroke-linecap="round" />
                        </svg>
                    </div>
                    <span class="brand-text">Prompt Generator Pro</span>
                </div>
                <button id="sidebar-toggle" class="sidebar-toggle" aria-label="Toggle sidebar">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 7h14M3 12h14M3 17h14" stroke="currentColor" stroke-width="2"
                            stroke-linecap="round" />
                    </svg>
                </button>
            </div>

            <nav class="sidebar-nav">
                <ul class="nav-list">
                    <li class="nav-item">
                        <button class="nav-link active" data-section="editor" aria-current="page">
                            <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"
                                    fill="currentColor" />
                            </svg>
                            <span class="nav-text">Editor</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="library">
                            <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"
                                    fill="currentColor" />
                            </svg>
                            <span class="nav-text">Library</span>
                        </button>
                    </li>
                    <li class="nav-item">
                        <button class="nav-link" data-section="settings">
                            <svg class="nav-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd"
                                    d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                                    clip-rule="evenodd" fill="currentColor" />
                            </svg>
                            <span class="nav-text">Settings</span>
                        </button>
                    </li>
                </ul>
            </nav>

            <div class="sidebar-footer">
                <div class="sidebar-stats">
                    <div class="stat-item">
                        <span class="stat-label">Total Prompts</span>
                        <span id="total-prompts" class="stat-value">0</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Header -->
            <header class="main-header">
                <div class="header-content">
                    <button id="mobile-menu-toggle" class="mobile-menu-toggle" aria-label="Open menu">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" />
                        </svg>
                    </button>
                    <h1 class="page-title">Prompt Editor</h1>
                    <div class="header-actions">
                        <button id="theme-toggle" class="icon-button" aria-label="Toggle theme">
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M10 2L13.09 8.26L20 9L14 14.74L15.18 21.02L10 18L4.82 21.02L6 14.74L0 9L6.91 8.26L10 2Z"
                                    fill="currentColor" />
                            </svg>
                        </button>
                    </div>
                </div>
            </header>

            <!-- Content Sections -->
            <div class="content-wrapper">
                <!-- Editor Section -->
                <section id="editor-section" class="content-section active">
                    <div class="section-header">
                        <h2 class="section-title">Create New Prompt</h2>
                        <div class="section-actions">
                            <button id="add-section" class="btn btn-primary">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8 3v10M3 8h10" stroke="currentColor" stroke-width="2"
                                        stroke-linecap="round" />
                                </svg>
                                Add Section
                            </button>
                        </div>
                    </div>

                    <div id="sections-container" class="sections-container">
                        <!-- Sections will be dynamically added here -->
                    </div>

                    <div class="editor-actions">
                        <div class="action-group">
                            <button id="copy-prompt" class="btn btn-primary">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M4 2a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2H4z"
                                        stroke="currentColor" stroke-width="1.5" fill="none" />
                                    <path d="M6 6h4M6 8h4M6 10h2" stroke="currentColor" stroke-width="1.5"
                                        stroke-linecap="round" />
                                </svg>
                                Copy Prompt
                            </button>
                            <button id="save-prompt" class="btn btn-secondary">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12 2H4a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2V4a2 2 0 00-2-2z"
                                        stroke="currentColor" stroke-width="1.5" fill="none" />
                                    <path d="M10 6L6 10l-2-2" stroke="currentColor" stroke-width="1.5"
                                        stroke-linecap="round" stroke-linejoin="round" />
                                </svg>
                                Save Prompt
                            </button>
                        </div>
                        <div class="action-group">
                            <button id="clear-editor" class="btn btn-outline">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M2 4h12M5.333 4V2.667a1.333 1.333 0 011.334-1.334h2.666a1.333 1.333 0 011.334 1.334V4M7.333 7.333v4M8.667 7.333v4"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                </svg>
                                Clear
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Library Section -->
                <section id="library-section" class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Prompt Library</h2>
                        <div class="section-actions">
                            <button id="export-prompts" class="btn btn-secondary">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8 1v8M5 6l3-3 3 3M2 10v3a1 1 0 001 1h10a1 1 0 001-1v-3"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                                Export
                            </button>
                            <label for="import-file" class="btn btn-outline">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path d="M8 15V7M5 10l3 3 3-3M2 6V3a1 1 0 011-1h10a1 1 0 011 1v3"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                        stroke-linejoin="round" />
                                </svg>
                                Import
                            </label>
                            <input type="file" id="import-file" accept=".json" hidden>
                            <button id="flush-db" class="btn btn-danger">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M2 4h12M5.333 4V2.667a1.333 1.333 0 011.334-1.334h2.666a1.333 1.333 0 011.334 1.334V4M7.333 7.333v4M8.667 7.333v4"
                                        stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                </svg>
                                Clear All
                            </button>
                        </div>
                    </div>

                    <div class="search-controls">
                        <div class="search-input-group">
                            <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 17a8 8 0 100-16 8 8 0 000 16zM19 19l-4.35-4.35" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            <input type="text" id="search-input" class="search-input" placeholder="Search prompts...">
                        </div>
                        <select id="search-type" class="search-filter">
                            <option value="all">All Fields</option>
                            <option value="name">Prompt Name</option>
                            <option value="title">Section Title</option>
                            <option value="content">Content</option>
                        </select>
                    </div>

                    <div id="prompt-results" class="prompt-results">
                        <!-- Search results will be displayed here -->
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settings-section" class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Settings</h2>
                    </div>

                    <div class="settings-grid">
                        <div class="setting-group">
                            <h3 class="setting-title">Appearance</h3>
                            <div class="setting-item">
                                <label class="setting-label">
                                    <span>Theme</span>
                                    <select id="theme-select" class="setting-select">
                                        <option value="light">Light</option>
                                        <option value="dark">Dark</option>
                                        <option value="auto">Auto</option>
                                    </select>
                                </label>
                            </div>
                        </div>

                        <div class="setting-group">
                            <h3 class="setting-title">Export</h3>
                            <div class="setting-item">
                                <label class="setting-label">
                                    <span>Default Format</span>
                                    <select id="export-format" class="setting-select">
                                        <option value="json">JSON</option>
                                        <option value="text">Plain Text</option>
                                        <option value="markdown">Markdown</option>
                                    </select>
                                </label>
                            </div>
                        </div>

                        <div class="setting-group">
                            <h3 class="setting-title">Data</h3>
                            <div class="setting-item">
                                <button id="backup-data" class="btn btn-secondary w-full">
                                    <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path d="M8 1v8M5 6l3-3 3 3M2 10v3a1 1 0 001 1h10a1 1 0 001-1v-3"
                                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                    </svg>
                                    Backup All Data
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Floating Action Buttons -->
    <div class="fab-container">
        <!-- Quick Copy Button -->
        <button id="fab-copy" class="fab fab-copy" title="Quick Copy Prompt" aria-label="Quick copy prompt">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
        </button>

        <!-- Quick Navigation Button -->
        <button id="fab-nav" class="fab fab-nav" title="Quick Navigation" aria-label="Quick navigation menu">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </button>

        <!-- Section Navigator Button (Editor only) -->
        <button id="fab-sections" class="fab fab-sections" title="Jump to Section" aria-label="Jump to section">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 4h18M3 12h18M3 20h18" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                <circle cx="8" cy="4" r="1.5" fill="currentColor" />
                <circle cx="8" cy="12" r="1.5" fill="currentColor" />
                <circle cx="8" cy="20" r="1.5" fill="currentColor" />
            </svg>
        </button>

        <!-- Add Section Button (Editor only) -->
        <button id="fab-add-section" class="fab fab-add-section" title="Add New Section" aria-label="Add new section">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </button>
    </div>

    <!-- Quick Navigation Menu -->
    <div id="quick-nav-menu" class="quick-nav-menu" aria-hidden="true">
        <div class="quick-nav-header">
            <h3>Quick Navigation</h3>
            <button id="close-quick-nav" class="quick-nav-close" aria-label="Close quick navigation">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M15 5L5 15M5 5l10 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
            </button>
        </div>
        <div class="quick-nav-content">
            <button class="quick-nav-item" data-nav-section="editor">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"
                        fill="currentColor" />
                </svg>
                <span>Prompt Editor</span>
            </button>
            <button class="quick-nav-item" data-nav-section="library">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"
                        fill="currentColor" />
                </svg>
                <span>Prompt Library</span>
            </button>
            <button class="quick-nav-item" data-nav-section="settings">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"
                        clip-rule="evenodd" fill="currentColor" />
                </svg>
                <span>Settings</span>
            </button>
        </div>
    </div>

    <!-- Section Navigator (Editor only) -->
    <div id="section-navigator" class="section-navigator" aria-hidden="true">
        <div class="section-nav-header">
            <h4>Jump to Section</h4>
            <button id="close-section-nav" class="section-nav-close" aria-label="Close section navigator">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 4L4 12M4 4l8 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                </svg>
            </button>
        </div>
        <div id="section-nav-list" class="section-nav-list">
            <!-- Section items will be dynamically added here -->
        </div>
    </div>

    <!-- Scroll Controls (Library only) -->
    <div id="scroll-controls" class="scroll-controls" aria-hidden="true">
        <button id="scroll-to-top" class="scroll-btn scroll-to-top" title="Scroll to Top" aria-label="Scroll to top">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 15V5M5 10l5-5 5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </button>
        <button id="scroll-to-bottom" class="scroll-btn scroll-to-bottom" title="Scroll to Bottom"
            aria-label="Scroll to bottom">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 5v10M5 10l5 5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" />
            </svg>
        </button>
    </div>

    <!-- Modal -->
    <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
        <div class="modal-backdrop"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title" class="modal-title"></h3>
                <button id="modal-close" class="modal-close" aria-label="Close modal">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M15 5L5 15M5 5l10 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" />
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <p id="modal-message" class="modal-message"></p>
                <input type="text" id="modal-input" class="modal-input" placeholder="Enter prompt name"
                    style="display: none;">
            </div>
            <div class="modal-footer">
                <button id="modal-cancel" class="btn btn-outline">Cancel</button>
                <button id="modal-confirm" class="btn btn-primary">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container" aria-live="polite"></div>

    <!-- Section Template -->
    <template id="section-template">
        <div class="prompt-section">
            <div class="section-header-controls">
                <input type="text" class="section-title-input" placeholder="Section Title (optional)">
                <div class="section-controls">
                    <button class="section-control-btn" data-action="move-up" aria-label="Move section up">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 3l-4 4h8l-4-4z" fill="currentColor" />
                        </svg>
                    </button>
                    <button class="section-control-btn" data-action="move-down" aria-label="Move section down">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 13l4-4H4l4 4z" fill="currentColor" />
                        </svg>
                    </button>
                    <button class="section-control-btn section-remove" data-action="remove" aria-label="Remove section">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 4L4 12M4 4l8 8" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" />
                        </svg>
                    </button>
                </div>
            </div>
            <textarea class="section-content-textarea" placeholder="Enter section content..." rows="4"></textarea>
            <div class="section-options">
                <label class="checkbox-label">
                    <input type="checkbox" class="section-wrap-checkbox">
                    <span class="checkbox-custom"></span>
                    <span class="checkbox-text">Wrap in triple backticks</span>
                </label>
                <div class="section-meta">
                    <span class="character-count">0 characters</span>
                </div>
            </div>
        </div>
    </template>

    <!-- Scripts -->
    <script type="module" src="js/app-standalone.js"></script>
</body>

</html>